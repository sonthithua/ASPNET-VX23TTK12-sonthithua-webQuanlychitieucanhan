@model QuanLyThuChi.Models.Transaction
@{
    ViewBag.Title = "Sửa giao dịch";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="card">
    <div class="card-header bg-warning text-white">Sửa giao dịch</div>
    <div class="card-body">
        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)

        <div class="mb-3">
            
            @Html.HiddenFor(m => m.UserId)
        </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.CategoryId, "Loại giao dịch", new { @class = "form-label" })
                @Html.DropDownListFor(m => m.CategoryId, (SelectList)ViewBag.Categories, "Chọn loại", new { @class = "form-select" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.Amount, "Số tiền", new { @class = "form-label" })
                @Html.TextBoxFor(m => m.Amount, new { @class = "form-control" })
            </div>

            <div class="mb-3">
                @Html.LabelFor(m => m.Note, "Ghi chú", new { @class = "form-label" })
                @Html.TextBoxFor(m => m.Note, new { @class = "form-control" })
            </div>

            <!-- 🔹 Thêm phần này để sửa được loại giao dịch -->
            <div class="mb-3">
                @Html.LabelFor(m => m.Type, "Loại giao dịch", new { @class = "form-label" })
                @Html.DropDownListFor(m => m.Type,
                    new SelectList(new[] { "Thu", "Chi" }, Model.Type),
                    "Chọn loại",
                    new { @class = "form-select" })
            </div>

            <button type="submit" class="btn btn-primary">Lưu thay đổi</button>
            <a href="@Url.Action("Index")" class="btn btn-secondary">Quay lại</a>
        }
    </div>
</div>
